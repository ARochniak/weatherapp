(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),l=(a(11),a(1)),i=a.n(l),s=a(2),u=a(3),m=function(){for(var e=[],t=0;t<8;t++)e.push(r.a.createElement("div",{key:t},2+3*t));return r.a.createElement(r.a.Fragment,null,e)},p=["Sunday","Monday","Tuesday","Wednesdey","Thursday","Friday","Saturday"],d=function(e){var t=[r.a.createElement("div",{key:0},"Today")],a=new Date(e.today),n=2!==a.getHours()?5:4;a=a.getDay();for(var c=0;c<n;c++)t.push(r.a.createElement("div",{key:c+1},p[++a%7]));return r.a.createElement(r.a.Fragment,null,t)},g=function(e){return r.a.createElement(r.a.Fragment,null,function(e){for(var t=[],a=(new Date(1e3*e[0].dt).getHours()-2)/3,n=0;n<a;n++)t.push(r.a.createElement("div",{key:n}));return e.forEach((function(e,n){var c="http://openweathermap.org/img/wn/".concat(e.weather[0].icon,"@2x.png"),o=e.main.temp;t.push(r.a.createElement("div",{key:n+a},Math.round(o-273.15,2),r.a.createElement("img",{src:c,alt:e.weather[0].description})))})),t}(e.list))};a(13);var h=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),l=Object(u.a)(o,2),p=l[0],h=l[1];return Object(n.useEffect)((function(){var e=localStorage.getItem("localStorageInitTime");null===e?localStorage.setItem("localStorageInitTime",+new Date):+new Date-e>108e5&&(localStorage.clear(),localStorage.setItem("localStorageInitTime",+new Date));var t=localStorage.getItem("weather");if(t)c(JSON.parse(t));else{var a=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.latitude,n=t.longitude,e.prev=1,e.next=4,fetch("http://api.openweathermap.org/data/2.5/forecast?APPID=373a158eb6eb097745db5c80be9b3eaf&lat=".concat(a,"&lon=").concat(n));case 4:return c=e.sent,e.next=7,c.json();case 7:r=e.sent,e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",e.t0);case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();if("geolocation"in navigator){navigator.geolocation.getCurrentPosition(function(){var e=Object(s.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.coords);case 2:(n=e.sent)instanceof Error?h(n.message):(localStorage.setItem("weather",JSON.stringify(n)),c(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}),{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}else alert("Turn on geolocation")}}),[]),r.a.createElement("div",{className:"App"},a||p?p?r.a.createElement("h1",null,p):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,a.city.name),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"hours"},r.a.createElement(m,null)),r.a.createElement("div",{className:"days"},r.a.createElement(d,{today:1e3*a.list[0].dt})),r.a.createElement("div",{className:"tempList"},r.a.createElement(g,{list:a.list})))):r.a.createElement("h1",null,"Loading..."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,a){e.exports=a(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.e7cde001.chunk.js.map